# JSON object grammar compatible with llama.cpp GBNF
# Supports objects, arrays, numbers, booleans, null, and proper string escapes.

root   ::= json
json   ::= object | array

object ::= "{" ws (member ("," ws member)*)? "}" ws
member ::= string ws ":" ws value

array  ::= "[" ws (value ("," ws value)*)? "]" ws

value  ::= string
        | number
        | object
        | array
        | "true"
        | "false"
        | "null"

string ::= "\"" chars "\""
chars  ::= (char)*
char   ::= [^"\\\x00-\x1F] | "\\" escape
escape ::= "\"" | "\\" | "/" | "b" | "f" | "n" | "r" | "t" | "u" hex hex hex hex
hex    ::= [0-9a-fA-F]

number ::= "-"? int frac? exp?
int    ::= "0" | (digit1_9 digit*)
frac   ::= "." digit+
exp    ::= ("e" | "E") ("+" | "-")? digit+
digit  ::= [0-9]
digit1_9 ::= [1-9]

ws     ::= [ \t\n\r]*

